From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Andrew Branson <andrew.branson@jollamobile.com>
Date: Fri, 20 Apr 2018 12:03:11 +0200
Subject: [PATCH] Compatibility with older dd and bash

---
 scripts/find-debuginfo.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)
 mode change 100755 => 100644 scripts/find-debuginfo.in

diff --git a/scripts/find-debuginfo.in b/scripts/find-debuginfo.in
old mode 100755
new mode 100644
index 4bda5ba..fb3af95
--- a/scripts/find-debuginfo.in
+++ b/scripts/find-debuginfo.in
@@ -462,7 +462,7 @@ while read nlinks inum f; do
       echo "$inum $f" >>"$temp/linked"
       continue
     else
-      read "$var" < <(echo 1)
+      [ "$(( $var = 1 ))" -ne 0 ]
     fi
   fi
   echo "$nlinks $inum $f" >>"$temp/primary"
@@ -590,7 +590,7 @@ run_job()
   # can't use read -n <n>, because it reads bytes one by one, allowing for
   # races
   while :; do
-    filenum=$(dd bs=$(( FILENUM_DIGITS + 1 )) count=1 status=none)
+    filenum=$(dd bs=$(( FILENUM_DIGITS + 1 )) count=1 status=noxfer)
     if test -z "$filenum"; then
       break
     fi
